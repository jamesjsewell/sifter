{"version":3,"file":"compiled.js","sources":["states/GameMenu.js","states/Game.js","states/GameOver.js","states/Credits.js","states/Options.js","states/Boot.js","index.js"],"sourcesContent":["class GameMenu extends Phaser.State {\n\n    init() {\n        this.theGame = this.game.state.game\n        this.width = this.theGame._width\n        this.height = this.theGame._height\n    \n    }\n\n    create() {\n\n        this.theGame.add.sprite(0, 0, 'menu_bg')\n        this.button = this.theGame.add.button(this.width/2, this.height/2, \"atlas\", this.startGame, this, 1, 0, 2);\n        this.button.frameName = \"play_button1.png\"\n        this.button.x = this.width/2 - (this.button.texture.frame.width/2) \n        this.button.y = this.height/2 - (this.button.texture.frame.height/2) \n\n    }\n\n    update() {\n       \n        \n    }\n\n    render(){\n       \n    }\n\n    startGame(){\n        \n        this.theGame.state.start(\"Game\");\n        \n    }\n \n}\n\nexport default GameMenu","\nclass Game extends Phaser.State {\n\n    init() {\n        this.theGame = this.game.state.game\n        this.w = this.theGame.width\n        this.h = this.theGame.height\n        this.selectedTilesArray = []\n        this.selected = false\n        this.connectedTiles = []\n        this.possibleBranches = []\n        this.deadEnds = []\n        this.alreadyMatched = []\n        this.currentCell = null\n        this.cycles = 0\n    }\n\n    preload() {\n\n        \n    }\n\n    create() {\n\n        this.theTileMap = this.theGame.add.tilemap('testing')\n        this.theTileMap.addTilesetImage('tiles');\n        this.layer1 = this.theTileMap.createLayer('base_layer')\n\n        this.theGame.input.onDown.add(this.getTileProperties, this);\n\n        this.theTileMap.forEach((tile)=>{\n            \n            if(tile.properties){\n            \n                // if(tile.properties.type === \"connector\"){\n                //     this.connectors.push(tile)\n                // }\n\n                if(tile.properties.type === \"source\"){\n                    this.sourceBlock = tile\n                    this.firstInChain = this.theTileMap.getTileRight(0, this.sourceBlock.x, this.sourceBlock.y)\n                }\n\n                if(tile.properties.type === \"destination\"){\n                    this.destinationBlock = tile\n                }\n\n            }\n        \n        \n        }, this, 0, 0, 8, 8,0)\n\n\n        this.checkForRoadStart()\n\n    }\n\n    update() {\n\n\n\n        \n    }\n\n    render(){\n       \n    }\n\n    checkForRoadStart(){\n        var startCell = this.theTileMap.getTileRight(0, this.sourceBlock.x, this.sourceBlock.y)\n        if(startCell){\n            if(startCell.properties.left === true){\n                this.currentCell = null\n                this.alreadyMatched = []\n                this.deadEnds = []\n                this.alreadyMatched[0] = startCell\n                this.cycles = 0\n                this.traversePath(startCell)\n            \n            }\n        }\n\n    }\n\n    traversePath(currentCell){\n\n        console.log(currentCell)\n        \n        \n        var foundMatches = this.testConnections(currentCell, this.alreadyMatched)\n\n        this.cycles = this.cycles + 1\n\n        if(foundMatches && !foundMatches.length){\n            \n            \n            this.deadEnds.push(currentCell)\n            \n            if(this.alreadyMatched.length <= 1){\n                currentCell = this.alreadyMatched[0]\n            }\n            else{\n                currentCell = this.alreadyMatched[this.alreadyMatched.length]\n            }\n            console.log(currentCell)\n\n            if(this.cycles < 20){\n                this.traversePath(currentCell)\n            }\n            else{\n                console.log('cycle limit reached, dead end')\n            }\n            \n           \n        }\n        else{\n           \n            this.alreadyMatched.push(currentCell)\n            currentCell = null\n\n            if(foundMatches && foundMatches.length){\n\n                for(var i = 0; i <= foundMatches.length; i++){\n                    if(!this.deadEnds.includes(foundMatches[i])){\n                        currentCell = foundMatches[i]\n                        \n                        break\n                    }\n                }  \n\n            }\n\n            if(currentCell){\n                console.log(currentCell)\n                if(this.cycles < 20){\n                    this.traversePath(currentCell)\n                }\n                else{\n                    console.log('cycle limit reached')\n                }\n                \n            }\n        \n        }\n    }\n\n    testConnections(theTile, alreadyMatched){\n\n        var matches = []\n\n        if(theTile && theTile.properties){\n                    \n            var above = this.theTileMap.getTileAbove(0, theTile.x, theTile.y)\n            var below = this.theTileMap.getTileBelow(0, theTile.x, theTile.y)\n            var left = this.theTileMap.getTileLeft(0, theTile.x, theTile.y)\n            var right = this.theTileMap.getTileRight(0, theTile.x, theTile.y)\n\n            var theTileProps = theTile.properties\n\n            if(above){\n                var aboveProps = above.properties\n            }\n\n            if(below){\n                var belowProps = below.properties\n            }\n\n            if(left){\n                var leftProps = left.properties\n            }\n            \n            if(right){\n                var rightProps = right.properties\n            }\n                    \n            if(aboveProps){\n                if(aboveProps.bottom === true && theTileProps.top === true){\n                    \n                    if(!alreadyMatched.includes(above)){\n                        matches.push(above)\n                        \n                    }  \n                    \n                }\n        \n            }\n\n            if(belowProps){\n\n                if(belowProps.top === true && theTileProps.bottom === true){\n                \n                    if(!alreadyMatched.includes(below)){\n                        matches.push(below)\n                        \n                    }      \n                    \n                }\n        \n            }\n\n            if(leftProps){\n\n                if(leftProps.right === true && theTileProps.left === true){\n                    \n                    if(!alreadyMatched.includes(left)){\n                        matches.push(left)\n            \n                    }  \n\n                }\n\n            }\n\n            if(rightProps){\n                if(right.properties.type === \"destination\"){\n                    console.log(right)\n                }\n                console.log(rightProps)\n                if(rightProps.left === true && theTileProps.right === true || rightProps.type === \"destination\"){\n\n                    if(!alreadyMatched.includes(right)){\n                        matches.push(right)\n                        \n                        if(rightProps.type === \"destination\"){\n                            console.log('donne')\n                            console.log(right)\n                            this.currentCell = null\n                            this.alreadyMatched = []\n                            this.deadEnds = []\n                            this.cycles = 0\n                            return\n                        }\n                    }  \n                    \n                        \n                }\n\n            } \n\n            return matches\n        \n        }\n    }\n\n    getTileProperties() {\n\n        var x = this.layer1.getTileX(this.theGame.input.activePointer.worldX);\n        var y = this.layer1.getTileY(this.theGame.input.activePointer.worldY);\n        var tile = this.theTileMap.getTile(x, y, this.layer1);\n\n        if(!this.selectedTilesArray.length && tile && !tile.properties.isBorder){\n            \n            this.selectedTilesArray[0] = tile\n            this.selected = true\n        \n            this.create_selector(tile.worldX, tile.worldY)\n            return\n        }\n        \n        if(this.selected === true && !tile.properties.isBorder){\n            if(!tile){\n                console.log('drop selection')\n            }\n\n            if(tile){\n                this.selectedTilesArray[1] = tile\n                \n                this.swap()\n\n                this.remove_selector()\n\n                return\n            }\n        }\n        \n    \n    }\n\n    swap(){\n        var tile1 = this.selectedTilesArray[0]\n        var tile1Copy = new Phaser.Tile\n        \n        var tile2 = this.selectedTilesArray[1] \n        var tile2Copy = new Phaser.Tile\n\n        for (var prop in tile2) {\n            if (tile2.hasOwnProperty(prop)) {\n                tile2Copy[prop] = tile2[prop];\n            }\n        }\n\n        for (var prop in tile1) {\n            if (tile1.hasOwnProperty(prop)) {\n                tile1Copy[prop] = tile1[prop];\n            }\n        }\n       \n        this.theTileMap.putTile(tile1, tile2Copy.x, tile2Copy.y)\n        this.theTileMap.putTile(tile2Copy, tile1Copy.x, tile1Copy.y)\n        this.selectedTilesArray = []\n        this.selected = false\n\n        \n        this.checkForRoadStart()\n    \n       \n    } \n\n    create_selector(x, y){\n        if(!this.selector){\n            this.selector = this.theGame.add.sprite(x, y, 'atlas');\n            this.selector.frameName = \"selector.png\"\n        }\n        else{\n            this.selector.x = x\n            this.selector.y = y\n            this.selector.visible = true\n        }\n           \n        \n        \n    }\n    \n    remove_selector(){\n        this.selector.visible = false\n    }\n \n}\n\nexport default Game\n\n\nvar connected = 0 \n        \n        \n\n        // for(var y = 0; y < 5; y++){\n\n\n        //     for(var x = 0; x < 5; x++){\n        \n        //         var theTile = this.theTileMap.getTile(x, y, 0)\n        //         var connectedTile = this.testConnections(theTile)\n\n        //         if(connectedTile){\n        //             this.connectedTiles.push(connectedTile)\n        //         }\n        //     }\n        \n        // }    \n        \n        // var xIndexTotal = 0\n        // var tilesAlongX = 0\n        // //var tilesAlongY = 0\n        // for(var xIndex = 1; xIndex < 5; xIndex++){\n            \n        //     for(var tileIndex in this.connectedTiles){\n        //         var tile = this.connectedTiles[tileIndex]\n                \n        //         if(tile.x === xIndex){\n        //             tilesAlongX = tilesAlongX + 1\n                    \n        //             break;\n        //         }\n\n        //     }\n            \n        // }\n\n\n        // var tileIndexesY = []\n        // for(var tileIndex in this.connectedTiles){\n        //     var tile = this.connectedTiles[tileIndex]\n\n        //     tileIndexesY.push(tile.y)\n\n    \n        // }\n\n        // var highestTile = Math.min(...tileIndexesY)\n        // var lowestTile = Math.max(...tileIndexesY)\n        // console.log(highestTile, lowestTile)\n\n\n        // var tilesConnectedOnY = 0\n\n        // for(var yIndex = highestTile; yIndex <= lowestTile; yIndex++){\n\n\n        //     for(var xIndex = 1; xIndex <=4; xIndex++){\n                \n        //         var testTile = this.testConnections(this.theTileMap.getTile(xIndex, yIndex, 0))\n              \n        //         if(!testTile){\n        //             var aboveTile = this.theTileMap.getTileAbove(0, xIndex, yIndex)\n        //             var belowTile = this.theTileMap.getTileBelow(0, xIndex, yIndex)\n\n        //             var testAboveTile = this.testConnections(aboveTile)\n                   \n        //             if(testAboveTile){\n        //                 var testAboveTileMultiple = this.testForMultipleConnections(aboveTile)\n        //             }\n\n        \n        //             var testBelowTile = this.testConnections(belowTile)\n\n        //             if(testBelowTile || testAboveTile){\n        //                 var testBelowTileMultiple = this.testForMultipleConnections(belowTile)\n        //             }\n\n                    \n        //             if(testAboveTileMultiple > 1 || testBelowTileMultiple > 1){\n                        \n                        \n        //             }\n        //             else{\n        //                 tilesConnectedOnY = tilesConnectedOnY - 1\n        //             }\n        //         }\n\n        //         if(testTile){\n                    \n        //             tilesConnectedOnY = tilesConnectedOnY + 1\n        //             //break\n                    \n        //         }\n                \n        //         //tilesConnectedOnY = tilesConnectedOnY + 1\n                    \n                \n        //     }\n        // }\n        // console.log(tilesConnectedOnY)\n        \n        // if(tilesAlongX === 4 && tilesConnectedOnY >= 6){\n\n            \n        //     console.log('won')\n\n\n        // }\n\n        // //find range of y indexes","class GameOver extends Phaser.State {\n\n    init() {\n        \n    \n    }\n\n    preload() {\n\n        \n    }\n\n    create() {\n\n\n    }\n\n    update() {\n       \n        \n    }\n\n    render(){\n       \n    }\n \n}\n\nexport default GameOver","class Credits extends Phaser.State {\n\n    init() {\n        this.theGame = this.game.state.game\n        this.score = 0\n    \n    }\n\n    preload() {\n\n    }\n\n    create() {\n        \n        this.cursors = this.theGame.input.keyboard.createCursorKeys();\n        \n        //  We're going to be using physics, so enable the Arcade Physics system\n        this.theGame.physics.startSystem(Phaser.Physics.ARCADE);\n        //  A simple background for our this.theGame\n        this.theGame.add.sprite(0, 0, 'sky');\n        //  The platforms group contains the ground and the 2 ledges we can jump on\n        this.platforms = this.theGame.add.group();\n        //  We will enable physics for any object that is created in group\n        this.platforms.enableBody = true;\n        // Here we create the ground.\n        this.ground = this.platforms.create(0, this.theGame.world.height - 64, 'ground');\n        //  Scale it to fit the width of the this.theGame (the original sprite is 400x32 in size)\n        this.ground.scale.setTo(2, 2);\n        //  This stops it from falling away when you jump on it\n        this.ground.body.immovable = true;\n        //  Now let's create two ledges\n        this.ledge = this.platforms.create(400, 480, 'ground');\n        this.ledge.body.immovable = true;\n        this.ledge = this.platforms.create(-100, 440, 'ground');\n        this.ledge.body.immovable = true;\n        this.ledge = this.platforms.create(200, 400, 'ground');\n        this.ledge.scale.setTo(.2,.5)\n        this.ledge.body.immovable = true;\n        // ready player one\n        // The player and its settings\n        this.player = this.theGame.add.sprite(32, this.theGame.world.height - 150, 'dude');\n        //  We need to enable physics on the player\n        this.theGame.physics.arcade.enable(this.player);\n        //  Player physics properties. Give the little guy a slight bounce.\n        this.player.body.bounce.y = 0.2;\n        this.player.body.gravity.y = 900;\n        this.player.body.collideWorldBounds = true;\n        //  Our two animations, walking left and right.\n        this.player.animations.add('left', [0, 1, 2, 3], 10, true);\n        this.player.animations.add('right', [5, 6, 7, 8], 10, true);\n        //add some stars\n        this.stars = this.theGame.add.group();\n        this.stars.enableBody = true;\n\n        //  Here we'll create 12 of them evenly spaced apart\n        for (var i = 0; i < 12; i++)\n        {\n            //  Create a star inside of the 'stars' group\n            var star = this.stars.create(i * 70, 0, 'star');\n            //  Let gravity do its thing\n            star.body.gravity.y = 900;\n            //  This just gives each star a slightly random bounce value\n            star.body.bounce.y = 0.7 + Math.random() * 0.2;\n        }\n        //gui\n        this.scoreText = this.theGame.add.text(650, 0, \"score: 0\", { font: \"18px Arial\", fill: \"#ffffff\", align: \"right\" });\n        this.scoreText.fixedToCamera = true;\n        this.scoreText.cameraOffset.setTo(650, 0);\n        \n\n        //move sprite to cursor\n        this.seeker = this.theGame.add.sprite(400, 300, '../assets/images/diamond.png');\n        this.seeker.anchor.setTo(0.5, 0.5);\n\n        //  Enable Arcade Physics for the sprite\n        this.theGame.physics.enable(this.seeker, Phaser.Physics.ARCADE);\n\n        //  Tell it we don't want physics to manage the rotation\n        this.seeker.body.allowRotation = false;\n\n        //pause menu\n        this.pause_menu()\n\n    }\n\n    update() {\n        this.theGame.world.setBounds(0, 0, 1920, 1920);\n        //  Notice that the sprite doesn't have any momentum at all,\n        //  it's all just set by the camera follow type.\n        //  0.1 is the amount of linear interpolation to use.\n        //  The smaller the value, the smooth the camera (and the longer it takes to catch up)\n        this.theGame.camera.follow(this.player, Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);\n        //  Collide the player and the stars with the this.platforms\n        var hitPlatform = this.theGame.physics.arcade.collide(this.player, this.platforms);\n        //  Reset the players velocity (movement)\n        this.player.body.velocity.x = 0;\n        if (this.cursors.left.isDown)\n        {\n            //  Move to the left\n            this.player.body.velocity.x = -150;\n            this.player.animations.play('left');\n        }\n        else if (this.cursors.right.isDown)\n        {\n            //  Move to the right\n            this.player.body.velocity.x = 150;\n            this.player.animations.play('right');\n        }\n        else\n        {\n            //  Stand still\n            this.player.animations.stop();\n            this.player.frame = 4;\n        }\n        //  Allow the player to jump if they are touching the ground.\n        if (this.cursors.up.isDown && this.player.body.touching.down && hitPlatform)\n        {\n            this.player.body.velocity.y = -350;\n        }\n        //stars\n        this.theGame.physics.arcade.collide(this.stars, this.platforms);\n        this.theGame.physics.arcade.overlap(this.player, this.stars, this.collectStar, null, this);\n\n        //seeker\n        this.seeker.rotation = this.theGame.physics.arcade.moveToPointer(this.seeker, 60, this.theGame.input.activePointer, 500);\n        \n    }\n\n    render(){\n        var debug = this.theGame.debug;\n        debug.scale(20, 20, '#fff');\n        debug.phaser(10, 580);\n    }\n\n    pause_menu(){\n\n        //pause menu\n        var w = 800, h = 600;\n        \n        add_pause_button(this)\n\n        console.log(this.theGame)\n\n        var self = this\n\n        function paused(){\n\n            // When the paus button is pressed, we pause the this.theGame\n            self.theGame.paused = true;\n            self.pause_button.destroy();\n            // Then add the menu\n            self.menu = self.theGame.add.sprite(w/2, h/2, 'menu');\n            var xPos = self.theGame.camera.x\n            var yPos = self.theGame.camera.y\n\n            // And a label to illustrate which menu item was chosen. (self is not necessary)\n            self.choiceLabel = self.theGame.add.text(w/2, h-150, 'Click outside menu to continue', { font: '30px Arial', fill: '#fff' });\n            self.menu.x = xPos + w/2 - ( 270/2 )\n            self.menu.y = yPos + h/2 - ( 180/2 )\n\n            self.menu.x = self.theGame.camera.x + w/2 - ( 270/2 )\n            self.menu.y = self.theGame.camera.y + h/2 - ( 180/2 )\n\n            self.choiceLabel.x = self.menu.x \n            self.choiceLabel.y = self.menu.y + h/3.5\n\n            self.resume_button = self.theGame.add.button(self.theGame.world.centerX, self.theGame.world.centerY, 'resumeButton', unpause, self, 1, 0, 2);\n            self.resume_button.x = xPos + w/2 - 32\n            self.resume_button.y = yPos + 20\n\n\n            self.theGame.input.onDown.add(menuClick, self);\n            // And finally the method that handels the pause menu\n        \n            function menuClick(event){\n                \n                // Only act if paused\n                if(self.theGame.paused){\n                    // Calculate the corners of the menu\n                    var x1 = w/2 - 270/2, x2 = w/2 + 270/2,\n                        y1 = h/2 - 180/2, y2 = h/2 + 180/2;\n                    // Check if the click was inside the menu\n                    if(event.x > x1 && event.x < x2 && event.y > y1 && event.y < y2 ){\n                        // The choicemap is an array that will help us see which item was clicked\n                        var choiceMap = ['one', 'two', 'three', 'four', 'five', 'six'];\n                        // Get menu local coordinates for the click\n                        var x = event.x - x1,\n                            y = event.y - y1;\n                        // Calculate the choice \n                        var choice = Math.floor(x / 90) + 3*Math.floor(y / 90);\n                        // Display the choice\n                        self.choiceLabel.text = 'You chose menu item: ' + choiceMap[choice];\n                        \n                    }\n                \n                }\n            }\n            \n            function unpause(event){\n                \n                self.resume_button.setFrames(0, 1, 2);\n                // Only act if paused\n                if(self.theGame.paused){\n\n                    // Remove the menu and the label\n                    self.menu.destroy();\n                    self.choiceLabel.destroy();\n                    self.resume_button.destroy();\n                    self.theGame.paused = false;\n                    add_pause_button(self)\n                                    \n                }\n        \n            } \n            \n        }\n\n        function add_pause_button(self){\n            \n            self.pause_button = self.theGame.add.button(self.theGame.world.centerX, self.theGame.world.centerY, 'pauseButton', paused, this, 1, 0, 2)\n            self.pause_button.fixedToCamera = true\n            self.pause_button.cameraOffset.setTo(w/2-32, 20);\n        }\n    }\n\n    collectStar(player, star) {\n        // Removes the star from the screen\n        star.kill();\n        //  Add and update the score\n        this.score += 10;\n        console.log(this.score)\n        this.scoreText.text = 'score: ' + this.score;\n    }\n \n}\n\nexport default Credits","class Options extends Phaser.State {\n\n    init() {\n        \n    \n    }\n\n    preload() {\n\n        \n    }\n\n    create() {\n\n\n    }\n\n    update() {\n       \n        \n    }\n\n    render(){\n       \n    }\n \n}\n\nexport default Options","import GameMenu from \"./GameMenu\"\nimport Game from \"./Game\"\nimport GameOver from \"./GameOver\"\nimport Credits from \"./Credits\"\nimport Options from \"./Options\"\n\nclass Boot extends Phaser.State {\n\n    init() {\n        this.theGame = this.game.state.game\n        this.addedStates = false\n        this.theGame.load.onLoadStart.add(this.loadStart, this);\n        this.theGame.load.onFileComplete.add(this.fileComplete, this);\n        this.theGame.load.onLoadComplete.add(this.loadComplete, this);\n        \n        this.theGame.scale.aspectRatio = 1\n        console.log(this.theGame.scale.aspectRatio)\n        console.log(this.theGame)\n        \n    }\n\n    preload() {\n        this.theGame.load.tilemap('testing', 'assets/images/tilemap_2.json', null, Phaser.Tilemap.TILED_JSON);\n        this.theGame.load.image('tiles', './assets/images/tilemap.png');\n        this.theGame.load.atlas('atlas', 'assets/images/atlas.png', 'assets/images/atlas.json');\n        this.theGame.load.image('button_bg', './assets/images/button_background.png');\n        this.theGame.load.image('sky', './assets/images/sky.png');\n        this.theGame.load.image('ground', './assets/images/platform.png');\n        this.theGame.load.image('star', './assets/images/star.png');\n        this.theGame.load.spritesheet('dude', './assets/images/dude.png', 32, 48);\n        this.theGame.load.spritesheet('resumeButton', './assets/pause_menu/resume_button.png', 32, 32);\n        this.theGame.load.spritesheet('pauseButton', './assets/pause_menu/pause_button.png', 32, 32);\n        this.theGame.load.image('menu', './assets/images/number-buttons-90x90.png', 270, 180);\n        this.theGame.load.bitmapFont('carrier_command', 'assets/fonts/carrier_command.png', 'assets/fonts/carrier_command.xml');\n        this.theGame.load.bitmapFont('gem', 'assets/fonts/gem.png', 'assets/fonts/gem.xml');\n        this.theGame.load.spritesheet('menu_start_button', './assets/main_menu/play_button.png', 128, 32)\n        this.theGame.load.image('menu_bg', './assets/main_menu/menu_bg.png')\n    }\n\n    create() {\n\n        this.bmpText = this.theGame.add.bitmapText(10, 100, 'gem','LOADING...',34);\n\n        // bmpText.inputEnabled = true;\n\n        // bmpText.input.enableDrag();\n\n        this.addGameStates();\n        this.addGameMusic();\n\n        //just leaving this here for later, will come in handy maybe\n        //  Register the keys.\n\t    this.leftKey = this.theGame.input.keyboard.addKey(Phaser.Keyboard.LEFT);\n\t    this.rightKey = this.theGame.input.keyboard.addKey(Phaser.Keyboard.RIGHT);\n\t    this.spaceKey = this.theGame.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n\n        //  Stop the following keys from propagating up to the browser\n        this.theGame.input.keyboard.addKeyCapture([ Phaser.Keyboard.LEFT, Phaser.Keyboard.RIGHT, Phaser.Keyboard.SPACEBAR ]);\n\n        \n    }\n\n    update(){\n\n        if(this.addedStates && this.filesLoaded){\n            //this.theGame.state.start(\"GameMenu\");\n            this.theGame.state.start(\"Game\");\n        }\n\n    }\n\n    addGameStates(){\n     \n        this.theGame.state.add(\"GameMenu\",GameMenu);\n        this.theGame.state.add(\"Game\",Game);\n        this.theGame.state.add(\"GameOver\",GameOver);\n        this.theGame.state.add(\"Credits\",Credits);\n        this.theGame.state.add(\"Options\",Options);\n\n        this.addedStates = true\n\n    }\n    \n    addGameMusic(){\n        // music = game.add.audio('dangerous');\n        // music.loop = true;\n        // music.play();\n    }\n\n    loadStart() {\n\n        console.log('loading')\n    \n    }\n    \n   \n    fileComplete(progress, cacheKey, success, totalLoaded, totalFiles) {\n        //http://phaser.io/examples/v2/loader/load-events\n        // text.setText(\"File Complete: \" + progress + \"% - \" + totalLoaded + \" out of \" + totalFiles);\n        console.log(progress)\n    \n    }\n    \n    loadComplete(){\n        this.filesLoaded = true\n    }\n \n}\n\nexport default Boot","//import Scene1 from './states/Scene1.js';\n// import Preload from 'states/Preload';\n// import GameTitle from 'states/GameTitle';\n// import Main from 'states/Main';\n// import GameOver from 'states/GameOver';\nimport Boot from './states/Boot'\n\nclass Game extends Phaser.Game {\n \n    constructor() {\n \n        super({renderer: Phaser.AUTO,\n            width: 384,\n            height: 384,\n            aspectRatio: 1,\n            crisp: true,\n            roundPixels: true,\n            alignH: true,\n            alignV: true,\n            scaleH: 1,\n            scaleV: 1,\n            trimH: 0,\n            trimV: 0,\n            scaleMode: Phaser.ScaleManager.SHOW_ALL,\n            antialias: true });\n        \n        this.state.add('Boot', Boot, false);\n        this.state.start('Boot');\n    }\n \n}\n \nnew Game();\n    \n\n  \n\n\n\n\n"],"names":["GameMenu","theGame","game","state","width","_width","height","_height","add","sprite","button","startGame","frameName","x","texture","frame","y","start","Phaser","State","Game","w","h","selectedTilesArray","selected","connectedTiles","possibleBranches","deadEnds","alreadyMatched","currentCell","cycles","theTileMap","tilemap","addTilesetImage","layer1","createLayer","input","onDown","getTileProperties","forEach","tile","properties","type","sourceBlock","firstInChain","getTileRight","destinationBlock","checkForRoadStart","startCell","left","traversePath","log","foundMatches","testConnections","length","push","i","includes","theTile","matches","above","getTileAbove","below","getTileBelow","getTileLeft","right","theTileProps","aboveProps","belowProps","leftProps","rightProps","bottom","top","getTileX","activePointer","worldX","getTileY","worldY","getTile","isBorder","create_selector","swap","remove_selector","tile1","tile1Copy","Tile","tile2","tile2Copy","prop","hasOwnProperty","putTile","selector","visible","GameOver","Credits","score","cursors","keyboard","createCursorKeys","physics","startSystem","Physics","ARCADE","platforms","group","enableBody","ground","create","world","scale","setTo","body","immovable","ledge","player","arcade","enable","bounce","gravity","collideWorldBounds","animations","stars","star","Math","random","scoreText","text","font","fill","align","fixedToCamera","cameraOffset","seeker","anchor","allowRotation","pause_menu","setBounds","camera","follow","Camera","FOLLOW_LOCKON","hitPlatform","collide","velocity","isDown","play","stop","up","touching","down","overlap","collectStar","rotation","moveToPointer","debug","phaser","self","paused","pause_button","destroy","menu","xPos","yPos","choiceLabel","resume_button","centerX","centerY","unpause","menuClick","event","x1","x2","y1","y2","choiceMap","choice","floor","setFrames","add_pause_button","kill","Options","Boot","addedStates","load","onLoadStart","loadStart","onFileComplete","fileComplete","onLoadComplete","loadComplete","aspectRatio","Tilemap","TILED_JSON","image","atlas","spritesheet","bitmapFont","bmpText","bitmapText","addGameStates","addGameMusic","leftKey","addKey","Keyboard","LEFT","rightKey","RIGHT","spaceKey","SPACEBAR","addKeyCapture","filesLoaded","progress","cacheKey","success","totalLoaded","totalFiles","renderer","AUTO","ScaleManager","SHOW_ALL"],"mappings":"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"}